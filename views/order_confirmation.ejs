<% include ./partials/_head.ejs %>
<% include ./partials/_header.ejs %>

<div class="container col-md-4 col-md-offset-4">
    <div class="row padding-top">
        <h2 class="text-center">Order Confirmed!</h2>
        <h3 class="text-center"><%= `Accepted: ${ (orderInfo[0].accepted ? 'Yes' : 'Not yet') }` %></h3>
        <h3 class="text-center"><%= `Pickup Time: ${ orderInfo[0].pickup_time ? moment(orderInfo[0].pickup_time).format('h:mm a') : 'Not Available' }` %></h3>
    </div>
    <div class="row">
        <div class="list-group">
            <% let orderTotal = 0; %>
            <% orderInfo.forEach((item) => { %>
                <% orderTotal += parseFloat(item.price) %>
                <div class="list-group-item">
                    <h4>
                        <span><%= item.name %></span>
                        <span><%= `$${item.price}` %></span>
                    </h4>
                    <% if (item.comment) { %>
                        <h5><%= `Comment: ${item.comment}` %></h5>
                    <% } %>
                </div>
            <% }); %>
            <div class="list-group-item order-total">
                <h4><%= `Total: $${orderTotal.toFixed(2)}` %></h4>
            </div>
        </div>
    </div>
</div>

<% include ./partials/_footer.ejs %>
<% include ./partials/_tail.ejs %>
